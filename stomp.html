
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>stomp package &#8212; Stomp 5.0.2 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="stomp-package">
<h1>stomp package<a class="headerlink" href="#stomp-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="stomp.adapter.html">stomp.adapter package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="stomp.adapter.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="stomp.adapter.html#module-stomp.adapter.multicast">stomp.adapter.multicast module</a></li>
<li class="toctree-l2"><a class="reference internal" href="stomp.adapter.html#module-stomp.adapter">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="stomp-colours-module">
<h2>stomp.colours module<a class="headerlink" href="#stomp-colours-module" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-stomp.colours"></span><p>Colour ‘constants’ used by the command line client.</p>
</div>
<div class="section" id="module-stomp.connect">
<span id="stomp-connect-module"></span><h2>stomp.connect module<a class="headerlink" href="#module-stomp.connect" title="Permalink to this headline">¶</a></h2>
<p>Main entry point for clients to create a STOMP connection.</p>
<p>Provides connection classes for <a class="reference external" href="http://stomp.github.io/stomp-specification-1.0.html">1.0</a>,
<a class="reference external" href="http://stomp.github.io/stomp-specification-1.1.html">1.1</a>, and
<a class="reference external" href="http://stomp.github.io/stomp-specification-1.2.html">1.2</a> versions of the STOMP protocol.</p>
<dl class="class">
<dt id="stomp.connect.BaseConnection">
<em class="property">class </em><code class="descclassname">stomp.connect.</code><code class="descname">BaseConnection</code><span class="sig-paren">(</span><em>transport</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.connect.BaseConnection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.listener.Publisher" title="stomp.listener.Publisher"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.listener.Publisher</span></code></a></p>
<p>Base class for all connection classes.</p>
<dl class="method">
<dt id="stomp.connect.BaseConnection.get_listener">
<code class="descname">get_listener</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.connect.BaseConnection.get_listener" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>str</em>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#stomp.listener.ConnectionListener" title="stomp.listener.ConnectionListener">ConnectionListener</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.connect.BaseConnection.get_ssl">
<code class="descname">get_ssl</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.connect.BaseConnection.get_ssl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="stomp.connect.BaseConnection.is_connected">
<code class="descname">is_connected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.connect.BaseConnection.is_connected" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.connect.BaseConnection.remove_listener">
<code class="descname">remove_listener</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.connect.BaseConnection.remove_listener" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>str</em>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.connect.BaseConnection.set_listener">
<code class="descname">set_listener</code><span class="sig-paren">(</span><em>name</em>, <em>lstnr</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.connect.BaseConnection.set_listener" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) – </li>
<li><strong>lstnr</strong> (<a class="reference internal" href="#stomp.listener.ConnectionListener" title="stomp.listener.ConnectionListener"><em>ConnectionListener</em></a>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.connect.BaseConnection.set_receipt">
<code class="descname">set_receipt</code><span class="sig-paren">(</span><em>receipt_id</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.connect.BaseConnection.set_receipt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="stomp.connect.BaseConnection.set_ssl">
<code class="descname">set_ssl</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.connect.BaseConnection.set_ssl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="stomp.connect.StompConnection10">
<em class="property">class </em><code class="descclassname">stomp.connect.</code><code class="descname">StompConnection10</code><span class="sig-paren">(</span><em>host_and_ports=None</em>, <em>prefer_localhost=True</em>, <em>try_loopback_connect=True</em>, <em>reconnect_sleep_initial=0.1</em>, <em>reconnect_sleep_increase=0.5</em>, <em>reconnect_sleep_jitter=0.1</em>, <em>reconnect_sleep_max=60.0</em>, <em>reconnect_attempts_max=3</em>, <em>use_ssl=False</em>, <em>ssl_key_file=None</em>, <em>ssl_cert_file=None</em>, <em>ssl_ca_certs=None</em>, <em>ssl_cert_validator=None</em>, <em>ssl_version=&lt;_SSLMethod.PROTOCOL_TLSv1: 3&gt;</em>, <em>timeout=None</em>, <em>keepalive=None</em>, <em>auto_decode=True</em>, <em>encoding='utf-8'</em>, <em>auto_content_length=True</em>, <em>recv_bytes=1024</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.connect.StompConnection10" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.connect.BaseConnection" title="stomp.connect.BaseConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.connect.BaseConnection</span></code></a>, <a class="reference internal" href="#stomp.protocol.Protocol10" title="stomp.protocol.Protocol10"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.protocol.Protocol10</span></code></a></p>
<p>Represents a 1.0 connection (comprising transport plus 1.0 protocol class).
See <a class="reference internal" href="#stomp.transport.Transport" title="stomp.transport.Transport"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.transport.Transport</span></code></a> for details on the initialisation parameters.</p>
<dl class="method">
<dt id="stomp.connect.StompConnection10.connect">
<code class="descname">connect</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.connect.StompConnection10.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a connection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>username</strong> (<em>str</em>) – the username to connect with</li>
<li><strong>passcode</strong> (<em>str</em>) – the password used to authenticate with</li>
<li><strong>wait</strong> (<em>bool</em>) – if True, wait for the connection to be established/acknowledged</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers the broker requires</li>
<li><strong>keyword_headers</strong> – any additional headers the broker requires</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.connect.StompConnection10.disconnect">
<code class="descname">disconnect</code><span class="sig-paren">(</span><em>receipt=None</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.connect.StompConnection10.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the protocol disconnection, and then stop the transport itself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>receipt</strong> (<em>str</em>) – the receipt to use with the disconnect</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers to send with the disconnection</li>
<li><strong>keyword_headers</strong> – any additional headers to send with the disconnection</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="stomp.connect.StompConnection11">
<em class="property">class </em><code class="descclassname">stomp.connect.</code><code class="descname">StompConnection11</code><span class="sig-paren">(</span><em>host_and_ports=None</em>, <em>prefer_localhost=True</em>, <em>try_loopback_connect=True</em>, <em>reconnect_sleep_initial=0.1</em>, <em>reconnect_sleep_increase=0.5</em>, <em>reconnect_sleep_jitter=0.1</em>, <em>reconnect_sleep_max=60.0</em>, <em>reconnect_attempts_max=3</em>, <em>use_ssl=False</em>, <em>ssl_key_file=None</em>, <em>ssl_cert_file=None</em>, <em>ssl_ca_certs=None</em>, <em>ssl_cert_validator=None</em>, <em>ssl_version=&lt;_SSLMethod.PROTOCOL_TLSv1: 3&gt;</em>, <em>timeout=None</em>, <em>heartbeats=(0</em>, <em>0)</em>, <em>keepalive=None</em>, <em>vhost=None</em>, <em>auto_decode=True</em>, <em>encoding='utf-8'</em>, <em>auto_content_length=True</em>, <em>heart_beat_receive_scale=1.5</em>, <em>recv_byte=1024</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.connect.StompConnection11" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.connect.BaseConnection" title="stomp.connect.BaseConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.connect.BaseConnection</span></code></a>, <a class="reference internal" href="#stomp.protocol.Protocol11" title="stomp.protocol.Protocol11"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.protocol.Protocol11</span></code></a></p>
<p>Represents a 1.1 connection (comprising transport plus 1.1 protocol class)
See <a class="reference internal" href="#stomp.transport.Transport" title="stomp.transport.Transport"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.transport.Transport</span></code></a> for details on the initialisation parameters.</p>
<dl class="method">
<dt id="stomp.connect.StompConnection11.connect">
<code class="descname">connect</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.connect.StompConnection11.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a connection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>username</strong> (<em>str</em>) – the username to connect with</li>
<li><strong>passcode</strong> (<em>str</em>) – the password used to authenticate with</li>
<li><strong>wait</strong> (<em>bool</em>) – if True, wait for the connection to be established/acknowledged</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers the broker requires</li>
<li><strong>keyword_headers</strong> – any additional headers the broker requires</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.connect.StompConnection11.disconnect">
<code class="descname">disconnect</code><span class="sig-paren">(</span><em>receipt=None</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.connect.StompConnection11.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the protocol disconnection, and then stop the transport itself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>receipt</strong> (<em>str</em>) – the receipt to use with the disconnect</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers to send with the disconnection</li>
<li><strong>keyword_headers</strong> – any additional headers to send with the disconnection</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="stomp.connect.StompConnection12">
<em class="property">class </em><code class="descclassname">stomp.connect.</code><code class="descname">StompConnection12</code><span class="sig-paren">(</span><em>host_and_ports=None</em>, <em>prefer_localhost=True</em>, <em>try_loopback_connect=True</em>, <em>reconnect_sleep_initial=0.1</em>, <em>reconnect_sleep_increase=0.5</em>, <em>reconnect_sleep_jitter=0.1</em>, <em>reconnect_sleep_max=60.0</em>, <em>reconnect_attempts_max=3</em>, <em>use_ssl=False</em>, <em>ssl_key_file=None</em>, <em>ssl_cert_file=None</em>, <em>ssl_ca_certs=None</em>, <em>ssl_cert_validator=None</em>, <em>ssl_version=&lt;_SSLMethod.PROTOCOL_TLSv1: 3&gt;</em>, <em>timeout=None</em>, <em>heartbeats=(0</em>, <em>0)</em>, <em>keepalive=None</em>, <em>vhost=None</em>, <em>auto_decode=True</em>, <em>encoding='utf-8'</em>, <em>auto_content_length=True</em>, <em>heart_beat_receive_scale=1.5</em>, <em>recv_bytes=1024</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.connect.StompConnection12" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.connect.BaseConnection" title="stomp.connect.BaseConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.connect.BaseConnection</span></code></a>, <a class="reference internal" href="#stomp.protocol.Protocol12" title="stomp.protocol.Protocol12"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.protocol.Protocol12</span></code></a></p>
<p>Represents a 1.2 connection (comprising transport plus 1.2 protocol class).
See <a class="reference internal" href="#stomp.transport.Transport" title="stomp.transport.Transport"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.transport.Transport</span></code></a> for details on the initialisation parameters.</p>
<dl class="method">
<dt id="stomp.connect.StompConnection12.connect">
<code class="descname">connect</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.connect.StompConnection12.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a STOMP CONNECT frame. Differs from 1.0 and 1.1 versions in that the HOST header is enforced.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>username</strong> (<em>str</em>) – optionally specify the login user</li>
<li><strong>passcode</strong> (<em>str</em>) – optionally specify the user password</li>
<li><strong>wait</strong> (<em>bool</em>) – wait for the connection to complete before returning</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers to send with the subscription</li>
<li><strong>keyword_headers</strong> – any additional headers to send with the subscription</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.connect.StompConnection12.disconnect">
<code class="descname">disconnect</code><span class="sig-paren">(</span><em>receipt=None</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.connect.StompConnection12.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the protocol disconnection, and then stop the transport itself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>receipt</strong> (<em>str</em>) – the receipt to use with the disconnect</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers to send with the disconnection</li>
<li><strong>keyword_headers</strong> – any additional headers to send with the disconnection</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-stomp.constants">
<span id="stomp-constants-module"></span><h2>stomp.constants module<a class="headerlink" href="#module-stomp.constants" title="Permalink to this headline">¶</a></h2>
<p>The STOMP command and header name strings.</p>
</div>
<div class="section" id="module-stomp.exception">
<span id="stomp-exception-module"></span><h2>stomp.exception module<a class="headerlink" href="#module-stomp.exception" title="Permalink to this headline">¶</a></h2>
<p>Errors thrown by stomp.py connections.</p>
<dl class="exception">
<dt id="stomp.exception.ConnectFailedException">
<em class="property">exception </em><code class="descclassname">stomp.exception.</code><code class="descname">ConnectFailedException</code><a class="headerlink" href="#stomp.exception.ConnectFailedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.exception.StompException" title="stomp.exception.StompException"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.exception.StompException</span></code></a></p>
<p>Raised by Connection.attempt_connection when reconnection attempts
have exceeded Connection.__reconnect_attempts_max.</p>
</dd></dl>

<dl class="exception">
<dt id="stomp.exception.ConnectionClosedException">
<em class="property">exception </em><code class="descclassname">stomp.exception.</code><code class="descname">ConnectionClosedException</code><a class="headerlink" href="#stomp.exception.ConnectionClosedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.exception.StompException" title="stomp.exception.StompException"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.exception.StompException</span></code></a></p>
<p>Raised in the receiver thread when the connection has been closed
by the server.</p>
</dd></dl>

<dl class="exception">
<dt id="stomp.exception.InterruptedException">
<em class="property">exception </em><code class="descclassname">stomp.exception.</code><code class="descname">InterruptedException</code><a class="headerlink" href="#stomp.exception.InterruptedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.exception.StompException" title="stomp.exception.StompException"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.exception.StompException</span></code></a></p>
<p>Raised by receive when data read is interrupted.</p>
</dd></dl>

<dl class="exception">
<dt id="stomp.exception.NotConnectedException">
<em class="property">exception </em><code class="descclassname">stomp.exception.</code><code class="descname">NotConnectedException</code><a class="headerlink" href="#stomp.exception.NotConnectedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.exception.StompException" title="stomp.exception.StompException"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.exception.StompException</span></code></a></p>
<p>Raised when there is currently no server connection.</p>
</dd></dl>

<dl class="exception">
<dt id="stomp.exception.StompException">
<em class="property">exception </em><code class="descclassname">stomp.exception.</code><code class="descname">StompException</code><a class="headerlink" href="#stomp.exception.StompException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Common exception class. All specific stomp.py exceptions are subclasses
of StompException, allowing the library user to catch all current and
future library exceptions.</p>
</dd></dl>

</div>
<div class="section" id="module-stomp.listener">
<span id="stomp-listener-module"></span><h2>stomp.listener module<a class="headerlink" href="#module-stomp.listener" title="Permalink to this headline">¶</a></h2>
<p>Various listeners for using with stomp.py connections.</p>
<dl class="class">
<dt id="stomp.listener.ConnectionListener">
<em class="property">class </em><code class="descclassname">stomp.listener.</code><code class="descname">ConnectionListener</code><a class="headerlink" href="#stomp.listener.ConnectionListener" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class should be used as a base class for objects registered
using Connection.set_listener().</p>
<dl class="method">
<dt id="stomp.listener.ConnectionListener.on_before_message">
<code class="descname">on_before_message</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.ConnectionListener.on_before_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the STOMP connection before a message is returned to the client app. Returns a tuple
containing the headers and body (so that implementing listeners can pre-process the content).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – the message headers</li>
<li><strong>body</strong> – the message body</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.ConnectionListener.on_connected">
<code class="descname">on_connected</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.ConnectionListener.on_connected" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the STOMP connection when a CONNECTED frame is
received (after a connection has been established or
re-established).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – a dictionary containing all headers sent by the server as key/value pairs.</li>
<li><strong>body</strong> – the frame’s payload. This is usually empty for CONNECTED frames.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.ConnectionListener.on_connecting">
<code class="descname">on_connecting</code><span class="sig-paren">(</span><em>host_and_port</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.ConnectionListener.on_connecting" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the STOMP connection once a TCP/IP connection to the
STOMP server has been established or re-established. Note that
at this point, no connection has been established on the STOMP
protocol level. For this, you need to invoke the “connect”
method on the connection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>host_and_port</strong> (<em>(</em><em>str</em><em>,</em><em>int</em><em>)</em>) – a tuple containing the host name and port number to which the connection
has been established.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.ConnectionListener.on_disconnected">
<code class="descname">on_disconnected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.ConnectionListener.on_disconnected" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the STOMP connection when a TCP/IP connection to the
STOMP server has been lost.  No messages should be sent via
the connection until it has been reestablished.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.ConnectionListener.on_error">
<code class="descname">on_error</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.ConnectionListener.on_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the STOMP connection when an ERROR frame is received.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – a dictionary containing all headers sent by the server as key/value pairs.</li>
<li><strong>body</strong> – the frame’s payload - usually a detailed error description.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.ConnectionListener.on_heartbeat">
<code class="descname">on_heartbeat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.ConnectionListener.on_heartbeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Called on receipt of a heartbeat.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.ConnectionListener.on_heartbeat_timeout">
<code class="descname">on_heartbeat_timeout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.ConnectionListener.on_heartbeat_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the STOMP connection when a heartbeat message has not been
received beyond the specified period.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.ConnectionListener.on_message">
<code class="descname">on_message</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.ConnectionListener.on_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the STOMP connection when a MESSAGE frame is received.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – a dictionary containing all headers sent by the server as key/value pairs.</li>
<li><strong>body</strong> – the frame’s payload - the message body.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.ConnectionListener.on_receipt">
<code class="descname">on_receipt</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.ConnectionListener.on_receipt" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the STOMP connection when a RECEIPT frame is
received, sent by the server if requested by the client using
the ‘receipt’ header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – a dictionary containing all headers sent by the server as key/value pairs.</li>
<li><strong>body</strong> – the frame’s payload. This is usually empty for RECEIPT frames.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.ConnectionListener.on_receiver_loop_completed">
<code class="descname">on_receiver_loop_completed</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.ConnectionListener.on_receiver_loop_completed" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when the connection receiver_loop has finished.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.ConnectionListener.on_send">
<code class="descname">on_send</code><span class="sig-paren">(</span><em>frame</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.ConnectionListener.on_send" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the STOMP connection when it is in the process of sending a message</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>frame</strong> (<a class="reference internal" href="#stomp.utils.Frame" title="stomp.utils.Frame"><em>Frame</em></a>) – the frame to be sent</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="stomp.listener.HeartbeatListener">
<em class="property">class </em><code class="descclassname">stomp.listener.</code><code class="descname">HeartbeatListener</code><span class="sig-paren">(</span><em>heartbeats</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.HeartbeatListener" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.listener.ConnectionListener" title="stomp.listener.ConnectionListener"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.listener.ConnectionListener</span></code></a></p>
<p>Listener used to handle STOMP heartbeating.</p>
<dl class="method">
<dt id="stomp.listener.HeartbeatListener.on_connected">
<code class="descname">on_connected</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.HeartbeatListener.on_connected" title="Permalink to this definition">¶</a></dt>
<dd><p>Once the connection is established, and ‘heart-beat’ is found in the headers, we calculate the real
heartbeat numbers (based on what the server sent and what was specified by the client) - if the heartbeats
are not 0, we start up the heartbeat loop accordingly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – headers in the connection message</li>
<li><strong>body</strong> – the message body</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.HeartbeatListener.on_disconnected">
<code class="descname">on_disconnected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.HeartbeatListener.on_disconnected" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the STOMP connection when a TCP/IP connection to the
STOMP server has been lost.  No messages should be sent via
the connection until it has been reestablished.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.HeartbeatListener.on_error">
<code class="descname">on_error</code><span class="sig-paren">(</span><em>*_</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.HeartbeatListener.on_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the last received time whenever an error is received.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.HeartbeatListener.on_heartbeat">
<code class="descname">on_heartbeat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.HeartbeatListener.on_heartbeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the last received time whenever a heartbeat message is received.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.HeartbeatListener.on_message">
<code class="descname">on_message</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.HeartbeatListener.on_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the last received time whenever a message is received.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – headers in the message</li>
<li><strong>body</strong> – the message content</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.HeartbeatListener.on_receipt">
<code class="descname">on_receipt</code><span class="sig-paren">(</span><em>*_</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.HeartbeatListener.on_receipt" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the last received time whenever a receipt is received.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.HeartbeatListener.on_send">
<code class="descname">on_send</code><span class="sig-paren">(</span><em>frame</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.HeartbeatListener.on_send" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the heartbeat header to the frame when connecting, and bump
next outbound heartbeat timestamp.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>frame</strong> (<a class="reference internal" href="#stomp.utils.Frame" title="stomp.utils.Frame"><em>Frame</em></a>) – the Frame object</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="stomp.listener.PrintingListener">
<em class="property">class </em><code class="descclassname">stomp.listener.</code><code class="descname">PrintingListener</code><span class="sig-paren">(</span><em>print_to_log=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.PrintingListener" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.listener.ConnectionListener" title="stomp.listener.ConnectionListener"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.listener.ConnectionListener</span></code></a></p>
<dl class="method">
<dt id="stomp.listener.PrintingListener.on_before_message">
<code class="descname">on_before_message</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.PrintingListener.on_before_message" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – </li>
<li><strong>body</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.PrintingListener.on_connected">
<code class="descname">on_connected</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.PrintingListener.on_connected" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – </li>
<li><strong>body</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.PrintingListener.on_connecting">
<code class="descname">on_connecting</code><span class="sig-paren">(</span><em>host_and_port</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.PrintingListener.on_connecting" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>host_and_port</strong> (<em>(</em><em>str</em><em>,</em><em>int</em><em>)</em>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.PrintingListener.on_disconnected">
<code class="descname">on_disconnected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.PrintingListener.on_disconnected" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the STOMP connection when a TCP/IP connection to the
STOMP server has been lost.  No messages should be sent via
the connection until it has been reestablished.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.PrintingListener.on_error">
<code class="descname">on_error</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.PrintingListener.on_error" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – </li>
<li><strong>body</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.PrintingListener.on_heartbeat">
<code class="descname">on_heartbeat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.PrintingListener.on_heartbeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Called on receipt of a heartbeat.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.PrintingListener.on_heartbeat_timeout">
<code class="descname">on_heartbeat_timeout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.PrintingListener.on_heartbeat_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the STOMP connection when a heartbeat message has not been
received beyond the specified period.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.PrintingListener.on_message">
<code class="descname">on_message</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.PrintingListener.on_message" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – </li>
<li><strong>body</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.PrintingListener.on_receipt">
<code class="descname">on_receipt</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.PrintingListener.on_receipt" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – </li>
<li><strong>body</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.PrintingListener.on_send">
<code class="descname">on_send</code><span class="sig-paren">(</span><em>frame</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.PrintingListener.on_send" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>frame</strong> (<a class="reference internal" href="#stomp.utils.Frame" title="stomp.utils.Frame"><em>Frame</em></a>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="stomp.listener.Publisher">
<em class="property">class </em><code class="descclassname">stomp.listener.</code><code class="descname">Publisher</code><a class="headerlink" href="#stomp.listener.Publisher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Simply a registry of listeners.</p>
<dl class="method">
<dt id="stomp.listener.Publisher.get_listener">
<code class="descname">get_listener</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.Publisher.get_listener" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the named listener.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>str</em>) – the listener to return</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#stomp.listener.ConnectionListener" title="stomp.listener.ConnectionListener">ConnectionListener</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.Publisher.remove_listener">
<code class="descname">remove_listener</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.Publisher.remove_listener" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a listener.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>str</em>) – the name of the listener to remove</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.Publisher.set_listener">
<code class="descname">set_listener</code><span class="sig-paren">(</span><em>name</em>, <em>listener</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.Publisher.set_listener" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a named listener to use with this connection. See <a class="reference internal" href="#stomp.listener.ConnectionListener" title="stomp.listener.ConnectionListener"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.listener.ConnectionListener</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) – the name of the listener</li>
<li><strong>listener</strong> (<a class="reference internal" href="#stomp.listener.ConnectionListener" title="stomp.listener.ConnectionListener"><em>ConnectionListener</em></a>) – the listener object</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="stomp.listener.StatsListener">
<em class="property">class </em><code class="descclassname">stomp.listener.</code><code class="descname">StatsListener</code><a class="headerlink" href="#stomp.listener.StatsListener" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.listener.ConnectionListener" title="stomp.listener.ConnectionListener"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.listener.ConnectionListener</span></code></a></p>
<p>A connection listener for recording statistics on messages sent and received.</p>
<dl class="method">
<dt id="stomp.listener.StatsListener.on_connecting">
<code class="descname">on_connecting</code><span class="sig-paren">(</span><em>host_and_port</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.StatsListener.on_connecting" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment the connection count. See <a class="reference internal" href="#stomp.listener.ConnectionListener.on_connecting" title="stomp.listener.ConnectionListener.on_connecting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionListener.on_connecting()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>host_and_port</strong> (<em>(</em><em>str</em><em>,</em><em>int</em><em>)</em>) – the host and port as a tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.StatsListener.on_disconnected">
<code class="descname">on_disconnected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.StatsListener.on_disconnected" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment the disconnect count. See <a class="reference internal" href="#stomp.listener.ConnectionListener.on_disconnected" title="stomp.listener.ConnectionListener.on_disconnected"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionListener.on_disconnected()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.StatsListener.on_error">
<code class="descname">on_error</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.StatsListener.on_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment the error count. See <a class="reference internal" href="#stomp.listener.ConnectionListener.on_error" title="stomp.listener.ConnectionListener.on_error"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionListener.on_error()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – headers in the message</li>
<li><strong>body</strong> – the message content</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.StatsListener.on_heartbeat">
<code class="descname">on_heartbeat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.StatsListener.on_heartbeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment the heartbeat count. See <a class="reference internal" href="#stomp.listener.ConnectionListener.on_heartbeat" title="stomp.listener.ConnectionListener.on_heartbeat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionListener.on_heartbeat()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.StatsListener.on_heartbeat_timeout">
<code class="descname">on_heartbeat_timeout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.StatsListener.on_heartbeat_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment the heartbeat timeout. See <a class="reference internal" href="#stomp.listener.ConnectionListener.on_heartbeat_timeout" title="stomp.listener.ConnectionListener.on_heartbeat_timeout"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionListener.on_heartbeat_timeout()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.StatsListener.on_message">
<code class="descname">on_message</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.StatsListener.on_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment the message received count. See <a class="reference internal" href="#stomp.listener.ConnectionListener.on_message" title="stomp.listener.ConnectionListener.on_message"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionListener.on_message()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – headers in the message</li>
<li><strong>body</strong> – the message content</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.StatsListener.on_send">
<code class="descname">on_send</code><span class="sig-paren">(</span><em>frame</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.StatsListener.on_send" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment the send count. See <a class="reference internal" href="#stomp.listener.ConnectionListener.on_send" title="stomp.listener.ConnectionListener.on_send"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionListener.on_send()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>frame</strong> (<a class="reference internal" href="#stomp.utils.Frame" title="stomp.utils.Frame"><em>Frame</em></a>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="stomp.listener.TestListener">
<em class="property">class </em><code class="descclassname">stomp.listener.</code><code class="descname">TestListener</code><span class="sig-paren">(</span><em>receipt=None</em>, <em>print_to_log=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.TestListener" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.listener.StatsListener" title="stomp.listener.StatsListener"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.listener.StatsListener</span></code></a>, <a class="reference internal" href="#stomp.listener.WaitingListener" title="stomp.listener.WaitingListener"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.listener.WaitingListener</span></code></a>, <a class="reference internal" href="#stomp.listener.PrintingListener" title="stomp.listener.PrintingListener"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.listener.PrintingListener</span></code></a></p>
<p>Implementation of StatsListener and WaitingListener. Useful for testing.</p>
<dl class="method">
<dt id="stomp.listener.TestListener.get_latest_message">
<code class="descname">get_latest_message</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.TestListener.get_latest_message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="stomp.listener.TestListener.on_before_message">
<code class="descname">on_before_message</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.TestListener.on_before_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the STOMP connection before a message is returned to the client app. Returns a tuple
containing the headers and body (so that implementing listeners can pre-process the content).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – the message headers</li>
<li><strong>body</strong> – the message body</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.TestListener.on_connected">
<code class="descname">on_connected</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.TestListener.on_connected" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the STOMP connection when a CONNECTED frame is
received (after a connection has been established or
re-established).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – a dictionary containing all headers sent by the server as key/value pairs.</li>
<li><strong>body</strong> – the frame’s payload. This is usually empty for CONNECTED frames.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.TestListener.on_connecting">
<code class="descname">on_connecting</code><span class="sig-paren">(</span><em>host_and_port</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.TestListener.on_connecting" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment the connection count. See <a class="reference internal" href="#stomp.listener.ConnectionListener.on_connecting" title="stomp.listener.ConnectionListener.on_connecting"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionListener.on_connecting()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>host_and_port</strong> (<em>(</em><em>str</em><em>,</em><em>int</em><em>)</em>) – the host and port as a tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.TestListener.on_disconnected">
<code class="descname">on_disconnected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.TestListener.on_disconnected" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment the disconnect count. See <a class="reference internal" href="#stomp.listener.ConnectionListener.on_disconnected" title="stomp.listener.ConnectionListener.on_disconnected"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionListener.on_disconnected()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.TestListener.on_error">
<code class="descname">on_error</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.TestListener.on_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment the error count. See <a class="reference internal" href="#stomp.listener.ConnectionListener.on_error" title="stomp.listener.ConnectionListener.on_error"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionListener.on_error()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – headers in the message</li>
<li><strong>body</strong> – the message content</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.TestListener.on_heartbeat">
<code class="descname">on_heartbeat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.TestListener.on_heartbeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment the heartbeat count. See <a class="reference internal" href="#stomp.listener.ConnectionListener.on_heartbeat" title="stomp.listener.ConnectionListener.on_heartbeat"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionListener.on_heartbeat()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.TestListener.on_heartbeat_timeout">
<code class="descname">on_heartbeat_timeout</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.TestListener.on_heartbeat_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment the heartbeat timeout. See <a class="reference internal" href="#stomp.listener.ConnectionListener.on_heartbeat_timeout" title="stomp.listener.ConnectionListener.on_heartbeat_timeout"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionListener.on_heartbeat_timeout()</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.TestListener.on_message">
<code class="descname">on_message</code><span class="sig-paren">(</span><em>headers</em>, <em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.TestListener.on_message" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – </li>
<li><strong>message</strong> – </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.TestListener.on_receipt">
<code class="descname">on_receipt</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.TestListener.on_receipt" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the STOMP connection when a RECEIPT frame is
received, sent by the server if requested by the client using
the ‘receipt’ header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – a dictionary containing all headers sent by the server as key/value pairs.</li>
<li><strong>body</strong> – the frame’s payload. This is usually empty for RECEIPT frames.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.TestListener.on_receiver_loop_completed">
<code class="descname">on_receiver_loop_completed</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.TestListener.on_receiver_loop_completed" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when the connection receiver_loop has finished.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.TestListener.on_send">
<code class="descname">on_send</code><span class="sig-paren">(</span><em>frame</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.TestListener.on_send" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment the send count. See <a class="reference internal" href="#stomp.listener.ConnectionListener.on_send" title="stomp.listener.ConnectionListener.on_send"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ConnectionListener.on_send()</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>frame</strong> (<a class="reference internal" href="#stomp.utils.Frame" title="stomp.utils.Frame"><em>Frame</em></a>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.TestListener.wait_for_heartbeat">
<code class="descname">wait_for_heartbeat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.TestListener.wait_for_heartbeat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="stomp.listener.TestListener.wait_for_message">
<code class="descname">wait_for_message</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.TestListener.wait_for_message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="stomp.listener.WaitingListener">
<em class="property">class </em><code class="descclassname">stomp.listener.</code><code class="descname">WaitingListener</code><span class="sig-paren">(</span><em>receipt</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.WaitingListener" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.listener.ConnectionListener" title="stomp.listener.ConnectionListener"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.listener.ConnectionListener</span></code></a></p>
<p>A listener which waits for a specific receipt to arrive.</p>
<dl class="method">
<dt id="stomp.listener.WaitingListener.on_disconnected">
<code class="descname">on_disconnected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.WaitingListener.on_disconnected" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the STOMP connection when a TCP/IP connection to the
STOMP server has been lost.  No messages should be sent via
the connection until it has been reestablished.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.WaitingListener.on_receipt">
<code class="descname">on_receipt</code><span class="sig-paren">(</span><em>headers</em>, <em>body</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.WaitingListener.on_receipt" title="Permalink to this definition">¶</a></dt>
<dd><p>If the receipt id can be found in the headers, then notify the waiting thread.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>headers</strong> (<em>dict</em>) – headers in the message</li>
<li><strong>body</strong> – the message content</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.WaitingListener.wait_on_disconnected">
<code class="descname">wait_on_disconnected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.WaitingListener.wait_on_disconnected" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait until disconnected.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.listener.WaitingListener.wait_on_receipt">
<code class="descname">wait_on_receipt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.listener.WaitingListener.wait_on_receipt" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait until we receive a message receipt.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-stomp.protocol">
<span id="stomp-protocol-module"></span><h2>stomp.protocol module<a class="headerlink" href="#module-stomp.protocol" title="Permalink to this headline">¶</a></h2>
<p>Provides the 1.0, 1.1 and 1.2 protocol classes.</p>
<dl class="class">
<dt id="stomp.protocol.Protocol10">
<em class="property">class </em><code class="descclassname">stomp.protocol.</code><code class="descname">Protocol10</code><span class="sig-paren">(</span><em>transport</em>, <em>auto_content_length=True</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol10" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.listener.ConnectionListener" title="stomp.listener.ConnectionListener"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.listener.ConnectionListener</span></code></a></p>
<p>Represents version 1.0 of the protocol (see <a class="reference external" href="https://stomp.github.io/stomp-specification-1.0.html">https://stomp.github.io/stomp-specification-1.0.html</a>).</p>
<p>Most users should not instantiate the protocol directly. See <a class="reference internal" href="#module-stomp.connect" title="stomp.connect"><code class="xref py py-mod docutils literal notranslate"><span class="pre">stomp.connect</span></code></a> for connection classes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>transport</strong> – </li>
<li><strong>auto_content_length</strong> (<em>bool</em>) – Whether to calculate and send the content-length header automatically if it has not been set</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="stomp.protocol.Protocol10.abort">
<code class="descname">abort</code><span class="sig-paren">(</span><em>transaction</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol10.abort" title="Permalink to this definition">¶</a></dt>
<dd><p>Abort a transaction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>transaction</strong> (<em>str</em>) – the identifier of the transaction</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers the broker requires</li>
<li><strong>keyword_headers</strong> – any additional headers the broker requires</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol10.ack">
<code class="descname">ack</code><span class="sig-paren">(</span><em>id</em>, <em>transaction=None</em>, <em>receipt=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol10.ack" title="Permalink to this definition">¶</a></dt>
<dd><p>Acknowledge ‘consumption’ of a message by id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> (<em>str</em>) – identifier of the message</li>
<li><strong>transaction</strong> (<em>str</em>) – include the acknowledgement in the specified transaction</li>
<li><strong>receipt</strong> (<em>str</em>) – the receipt id</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol10.begin">
<code class="descname">begin</code><span class="sig-paren">(</span><em>transaction=None</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol10.begin" title="Permalink to this definition">¶</a></dt>
<dd><p>Begin a transaction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>transaction</strong> (<em>str</em>) – the identifier for the transaction (optional - if not specified
a unique transaction id will be generated)</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers the broker requires</li>
<li><strong>keyword_headers</strong> – any additional headers the broker requires</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the transaction id</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol10.commit">
<code class="descname">commit</code><span class="sig-paren">(</span><em>transaction=None</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol10.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commit a transaction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>transaction</strong> (<em>str</em>) – the identifier for the transaction</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers the broker requires</li>
<li><strong>keyword_headers</strong> – any additional headers the broker requires</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol10.connect">
<code class="descname">connect</code><span class="sig-paren">(</span><em>username=None</em>, <em>passcode=None</em>, <em>wait=False</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol10.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a connection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>username</strong> (<em>str</em>) – the username to connect with</li>
<li><strong>passcode</strong> (<em>str</em>) – the password used to authenticate with</li>
<li><strong>wait</strong> (<em>bool</em>) – if True, wait for the connection to be established/acknowledged</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers the broker requires</li>
<li><strong>keyword_headers</strong> – any additional headers the broker requires</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol10.disconnect">
<code class="descname">disconnect</code><span class="sig-paren">(</span><em>receipt=None</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol10.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnect from the server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>receipt</strong> (<em>str</em>) – the receipt to use (once the server acknowledges that receipt, we’re
officially disconnected; optional - if not specified a unique receipt id will
be generated)</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers the broker requires</li>
<li><strong>keyword_headers</strong> – any additional headers the broker requires</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol10.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>destination</em>, <em>body</em>, <em>content_type=None</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol10.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a message to a destination.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>destination</strong> (<em>str</em>) – the destination of the message (e.g. queue or topic name)</li>
<li><strong>body</strong> – the content of the message</li>
<li><strong>content_type</strong> (<em>str</em>) – the content type of the message</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers the broker requires</li>
<li><strong>keyword_headers</strong> – any additional headers the broker requires</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol10.send_frame">
<code class="descname">send_frame</code><span class="sig-paren">(</span><em>cmd</em>, <em>headers=None</em>, <em>body=''</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol10.send_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode and send a stomp frame
through the underlying transport.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cmd</strong> (<em>str</em>) – the protocol command</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of headers to include in the frame</li>
<li><strong>body</strong> – the content of the message</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol10.subscribe">
<code class="descname">subscribe</code><span class="sig-paren">(</span><em>destination</em>, <em>id=None</em>, <em>ack='auto'</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol10.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe to a destination.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>destination</strong> (<em>str</em>) – the topic or queue to subscribe to</li>
<li><strong>id</strong> (<em>str</em>) – a unique id to represent the subscription</li>
<li><strong>ack</strong> (<em>str</em>) – acknowledgement mode, either auto, client, or client-individual
(see <a class="reference external" href="http://stomp.github.io/stomp-specification-1.2.html#SUBSCRIBE_ack_Header">http://stomp.github.io/stomp-specification-1.2.html#SUBSCRIBE_ack_Header</a>)
for more information</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers the broker requires</li>
<li><strong>keyword_headers</strong> – any additional headers the broker requires</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol10.unsubscribe">
<code class="descname">unsubscribe</code><span class="sig-paren">(</span><em>destination=None</em>, <em>id=None</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol10.unsubscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsubscribe from a destination by either id or the destination name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>destination</strong> (<em>str</em>) – the name of the topic or queue to unsubscribe from</li>
<li><strong>id</strong> (<em>str</em>) – the unique identifier of the topic or queue to unsubscribe from</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers the broker requires</li>
<li><strong>keyword_headers</strong> – any additional headers the broker requires</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="stomp.protocol.Protocol11">
<em class="property">class </em><code class="descclassname">stomp.protocol.</code><code class="descname">Protocol11</code><span class="sig-paren">(</span><em>transport</em>, <em>heartbeats=(0</em>, <em>0)</em>, <em>auto_content_length=True</em>, <em>heart_beat_receive_scale=1.5</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol11" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.listener.HeartbeatListener" title="stomp.listener.HeartbeatListener"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.listener.HeartbeatListener</span></code></a>, <a class="reference internal" href="#stomp.listener.ConnectionListener" title="stomp.listener.ConnectionListener"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.listener.ConnectionListener</span></code></a></p>
<p>Represents version 1.1 of the protocol (see <a class="reference external" href="https://stomp.github.io/stomp-specification-1.1.html">https://stomp.github.io/stomp-specification-1.1.html</a>).</p>
<p>Most users should not instantiate the protocol directly. See <a class="reference internal" href="#module-stomp.connect" title="stomp.connect"><code class="xref py py-mod docutils literal notranslate"><span class="pre">stomp.connect</span></code></a> for connection classes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>transport</strong> – </li>
<li><strong>heartbeats</strong> (<em>(</em><em>int</em><em>,</em><em>int</em><em>)</em>) – </li>
<li><strong>auto_content_length</strong> (<em>bool</em>) – Whether to calculate and send the content-length header automatically if it has not been set</li>
<li><strong>heart_beat_receive_scale</strong> (<em>float</em>) – how long to wait for a heartbeat before timing out, as a scale factor of receive time</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="stomp.protocol.Protocol11.abort">
<code class="descname">abort</code><span class="sig-paren">(</span><em>transaction</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol11.abort" title="Permalink to this definition">¶</a></dt>
<dd><p>Abort a transaction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>transaction</strong> (<em>str</em>) – the identifier of the transaction</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers the broker requires</li>
<li><strong>keyword_headers</strong> – any additional headers the broker requires</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol11.ack">
<code class="descname">ack</code><span class="sig-paren">(</span><em>id</em>, <em>subscription</em>, <em>transaction=None</em>, <em>receipt=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol11.ack" title="Permalink to this definition">¶</a></dt>
<dd><p>Acknowledge ‘consumption’ of a message by id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> (<em>str</em>) – identifier of the message</li>
<li><strong>subscription</strong> (<em>str</em>) – the subscription this message is associated with</li>
<li><strong>transaction</strong> (<em>str</em>) – include the acknowledgement in the specified transaction</li>
<li><strong>receipt</strong> (<em>str</em>) – the receipt id</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol11.begin">
<code class="descname">begin</code><span class="sig-paren">(</span><em>transaction=None</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol11.begin" title="Permalink to this definition">¶</a></dt>
<dd><p>Begin a transaction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>transaction</strong> (<em>str</em>) – the identifier for the transaction (optional - if not specified
a unique transaction id will be generated)</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers the broker requires</li>
<li><strong>keyword_headers</strong> – any additional headers the broker requires</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the transaction id</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol11.commit">
<code class="descname">commit</code><span class="sig-paren">(</span><em>transaction=None</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol11.commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Commit a transaction.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>transaction</strong> (<em>str</em>) – the identifier for the transaction</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers the broker requires</li>
<li><strong>keyword_headers</strong> – any additional headers the broker requires</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol11.connect">
<code class="descname">connect</code><span class="sig-paren">(</span><em>username=None</em>, <em>passcode=None</em>, <em>wait=False</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol11.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Start a connection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>username</strong> (<em>str</em>) – the username to connect with</li>
<li><strong>passcode</strong> (<em>str</em>) – the password used to authenticate with</li>
<li><strong>wait</strong> (<em>bool</em>) – if True, wait for the connection to be established/acknowledged</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers the broker requires</li>
<li><strong>keyword_headers</strong> – any additional headers the broker requires</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol11.disconnect">
<code class="descname">disconnect</code><span class="sig-paren">(</span><em>receipt=None</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol11.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnect from the server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>receipt</strong> (<em>str</em>) – the receipt to use (once the server acknowledges that receipt, we’re
officially disconnected; optional - if not specified a unique receipt id will
be generated)</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers the broker requires</li>
<li><strong>keyword_headers</strong> – any additional headers the broker requires</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol11.nack">
<code class="descname">nack</code><span class="sig-paren">(</span><em>id</em>, <em>subscription</em>, <em>transaction=None</em>, <em>receipt=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol11.nack" title="Permalink to this definition">¶</a></dt>
<dd><p>Let the server know that a message was not consumed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> (<em>str</em>) – the unique id of the message to nack</li>
<li><strong>subscription</strong> (<em>str</em>) – the subscription this message is associated with</li>
<li><strong>transaction</strong> (<em>str</em>) – include this nack in a named transaction</li>
<li><strong>receipt</strong> (<em>str</em>) – the receipt id</li>
<li><strong>keyword_headers</strong> – any additional headers to send with the nack command</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol11.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>destination</em>, <em>body</em>, <em>content_type=None</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol11.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a message to a destination in the messaging system (as per <a class="reference external" href="https://stomp.github.io/stomp-specification-1.2.html#SEND">https://stomp.github.io/stomp-specification-1.2.html#SEND</a>)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>destination</strong> (<em>str</em>) – the destination (such as a message queue - for example ‘/queue/test’ - or a message topic)</li>
<li><strong>body</strong> – the content of the message</li>
<li><strong>content_type</strong> (<em>str</em>) – the MIME type of message</li>
<li><strong>headers</strong> (<em>dict</em>) – additional headers to send in the message frame</li>
<li><strong>keyword_headers</strong> – any additional headers the broker requires</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol11.send_frame">
<code class="descname">send_frame</code><span class="sig-paren">(</span><em>cmd</em>, <em>headers=None</em>, <em>body=''</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol11.send_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode and send a stomp frame
through the underlying transport:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cmd</strong> (<em>str</em>) – the protocol command</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of headers to include in the frame</li>
<li><strong>body</strong> – the content of the message</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol11.subscribe">
<code class="descname">subscribe</code><span class="sig-paren">(</span><em>destination</em>, <em>id</em>, <em>ack='auto'</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol11.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe to a destination</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>destination</strong> (<em>str</em>) – the topic or queue to subscribe to</li>
<li><strong>id</strong> (<em>str</em>) – the identifier to uniquely identify the subscription</li>
<li><strong>ack</strong> (<em>str</em>) – either auto, client or client-individual (see <a class="reference external" href="https://stomp.github.io/stomp-specification-1.2.html#SUBSCRIBE">https://stomp.github.io/stomp-specification-1.2.html#SUBSCRIBE</a> for more info)</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers to send with the subscription</li>
<li><strong>keyword_headers</strong> – any additional headers to send with the subscription</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol11.unsubscribe">
<code class="descname">unsubscribe</code><span class="sig-paren">(</span><em>id</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol11.unsubscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Unsubscribe from a destination by its unique identifier</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> (<em>str</em>) – the unique identifier to unsubscribe from</li>
<li><strong>headers</strong> (<em>dict</em>) – additional headers to send with the unsubscribe</li>
<li><strong>keyword_headers</strong> – any additional headers to send with the subscription</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="stomp.protocol.Protocol12">
<em class="property">class </em><code class="descclassname">stomp.protocol.</code><code class="descname">Protocol12</code><span class="sig-paren">(</span><em>transport</em>, <em>heartbeats=(0</em>, <em>0)</em>, <em>auto_content_length=True</em>, <em>heart_beat_receive_scale=1.5</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol12" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.protocol.Protocol11" title="stomp.protocol.Protocol11"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.protocol.Protocol11</span></code></a></p>
<p>Represents version 1.2 of the protocol (see <a class="reference external" href="https://stomp.github.io/stomp-specification-1.2.html">https://stomp.github.io/stomp-specification-1.2.html</a>).</p>
<p>Most users should not instantiate the protocol directly. See <a class="reference internal" href="#module-stomp.connect" title="stomp.connect"><code class="xref py py-mod docutils literal notranslate"><span class="pre">stomp.connect</span></code></a> for connection classes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>transport</strong> – </li>
<li><strong>heartbeats</strong> (<em>(</em><em>int</em><em>,</em><em>int</em><em>)</em>) – </li>
<li><strong>auto_content_length</strong> (<em>bool</em>) – Whether to calculate and send the content-length header automatically if it has not been set</li>
<li><strong>heart_beat_receive_scale</strong> (<em>float</em>) – how long to wait for a heartbeat before timing out, as a scale factor of receive time</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="stomp.protocol.Protocol12.ack">
<code class="descname">ack</code><span class="sig-paren">(</span><em>id</em>, <em>transaction=None</em>, <em>receipt=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol12.ack" title="Permalink to this definition">¶</a></dt>
<dd><p>Acknowledge ‘consumption’ of a message by id.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> (<em>str</em>) – identifier of the message</li>
<li><strong>transaction</strong> (<em>str</em>) – include the acknowledgement in the specified transaction</li>
<li><strong>receipt</strong> (<em>str</em>) – the receipt id</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol12.connect">
<code class="descname">connect</code><span class="sig-paren">(</span><em>username=None</em>, <em>passcode=None</em>, <em>wait=False</em>, <em>headers=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol12.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a STOMP CONNECT frame. Differs from 1.0 and 1.1 versions in that the HOST header is enforced.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>username</strong> (<em>str</em>) – optionally specify the login user</li>
<li><strong>passcode</strong> (<em>str</em>) – optionally specify the user password</li>
<li><strong>wait</strong> (<em>bool</em>) – wait for the connection to complete before returning</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of any additional headers to send with the subscription</li>
<li><strong>keyword_headers</strong> – any additional headers to send with the subscription</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.protocol.Protocol12.nack">
<code class="descname">nack</code><span class="sig-paren">(</span><em>id</em>, <em>transaction=None</em>, <em>receipt=None</em>, <em>**keyword_headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.protocol.Protocol12.nack" title="Permalink to this definition">¶</a></dt>
<dd><p>Let the server know that a message was not consumed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> (<em>str</em>) – the unique id of the message to nack</li>
<li><strong>transaction</strong> (<em>str</em>) – include this nack in a named transaction</li>
<li><strong>receipt</strong> (<em>str</em>) – the receipt id</li>
<li><strong>keyword_headers</strong> – any additional headers to send with the nack command</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-stomp.transport">
<span id="stomp-transport-module"></span><h2>stomp.transport module<a class="headerlink" href="#module-stomp.transport" title="Permalink to this headline">¶</a></h2>
<p>Provides the underlying transport functionality (for stomp message transmission) - (mostly) independent from the actual STOMP protocol</p>
<dl class="class">
<dt id="stomp.transport.BaseTransport">
<em class="property">class </em><code class="descclassname">stomp.transport.</code><code class="descname">BaseTransport</code><span class="sig-paren">(</span><em>auto_decode=True</em>, <em>encoding='utf-8'</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.listener.Publisher" title="stomp.listener.Publisher"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.listener.Publisher</span></code></a></p>
<p>Base class for transport classes providing support for listeners, threading overrides,
and anything else outside of actually establishing a network connection, sending and
receiving of messages (so generally socket-agnostic functions).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>auto_decode</strong> (<em>bool</em>) – automatically decode message responses as strings, rather than
leaving them as bytes. This preserves the behaviour as of version 4.0.16.
(To be defaulted to False as of the next release)</li>
<li><strong>encoding</strong> – the character encoding to use for the message body</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="stomp.transport.BaseTransport.attempt_connection">
<code class="descname">attempt_connection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.attempt_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to establish a connection.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.BaseTransport.cleanup">
<code class="descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Cleanup the transport (to be implemented in subclasses)</p>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.BaseTransport.disconnect_socket">
<code class="descname">disconnect_socket</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.disconnect_socket" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnect the socket.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.BaseTransport.get_listener">
<code class="descname">get_listener</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.get_listener" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the named listener</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>str</em>) – the listener to return</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#stomp.listener.ConnectionListener" title="stomp.listener.ConnectionListener">ConnectionListener</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.BaseTransport.is_connected">
<code class="descname">is_connected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.is_connected" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.BaseTransport.notify">
<code class="descname">notify</code><span class="sig-paren">(</span><em>frame_type</em>, <em>headers=None</em>, <em>body=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.notify" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility function for notifying listeners of incoming and outgoing messages</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>frame_type</strong> (<em>str</em>) – the type of message</li>
<li><strong>headers</strong> (<em>dict</em>) – the map of headers associated with the message</li>
<li><strong>body</strong> – the content of the message</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.BaseTransport.override_threading">
<code class="descname">override_threading</code><span class="sig-paren">(</span><em>create_thread_fc</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.override_threading" title="Permalink to this definition">¶</a></dt>
<dd><p>Override for thread creation. Use an alternate threading library by
setting this to a function with a single argument (which is the receiver loop callback).
The thread which is returned should be started (ready to run)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>create_thread_fc</strong> (<em>function</em>) – single argument function for creating a thread</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.BaseTransport.process_frame">
<code class="descname">process_frame</code><span class="sig-paren">(</span><em>f</em>, <em>frame_str</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.process_frame" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>f</strong> (<a class="reference internal" href="#stomp.utils.Frame" title="stomp.utils.Frame"><em>Frame</em></a>) – Frame object</li>
<li><strong>frame_str</strong> (<em>bytes</em>) – raw frame content</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.BaseTransport.receive">
<code class="descname">receive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.receive" title="Permalink to this definition">¶</a></dt>
<dd><p>Receive a chunk of data (to be implemented in subclasses)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bytes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.BaseTransport.remove_listener">
<code class="descname">remove_listener</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.remove_listener" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a listener according to the specified name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>name</strong> (<em>str</em>) – the name of the listener to remove</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.BaseTransport.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>encoded_frame</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Send an encoded frame over this transport (to be implemented in subclasses)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>encoded_frame</strong> (<em>bytes</em>) – a Frame object which has been encoded for transmission</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.BaseTransport.set_connected">
<code class="descname">set_connected</code><span class="sig-paren">(</span><em>connected</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.set_connected" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>connected</strong> (<em>bool</em>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.BaseTransport.set_listener">
<code class="descname">set_listener</code><span class="sig-paren">(</span><em>name</em>, <em>listener</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.set_listener" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a named listener to use with this connection.
See <a class="reference internal" href="#stomp.listener.ConnectionListener" title="stomp.listener.ConnectionListener"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.listener.ConnectionListener</span></code></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> (<em>str</em>) – the name of the listener</li>
<li><strong>listener</strong> (<a class="reference internal" href="#stomp.listener.ConnectionListener" title="stomp.listener.ConnectionListener"><em>ConnectionListener</em></a>) – the listener object</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.BaseTransport.set_receipt">
<code class="descname">set_receipt</code><span class="sig-paren">(</span><em>receipt_id</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.set_receipt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="stomp.transport.BaseTransport.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the connection. This should be called after all
listeners have been registered. If this method is not called,
no frames will be received by the connection and no SSL/TLS
handshake will occur.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.BaseTransport.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop the connection. Performs a clean shutdown by waiting for the
receiver thread to exit.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.BaseTransport.transmit">
<code class="descname">transmit</code><span class="sig-paren">(</span><em>frame</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.transmit" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a frame object to a frame string and transmit to the server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>frame</strong> (<a class="reference internal" href="#stomp.utils.Frame" title="stomp.utils.Frame"><em>Frame</em></a>) – the Frame object to transmit</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.BaseTransport.wait_for_connection">
<code class="descname">wait_for_connection</code><span class="sig-paren">(</span><em>timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.BaseTransport.wait_for_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait until we’ve established a connection with the server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timeout</strong> (<em>float</em>) – how long to wait, in seconds</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="stomp.transport.Transport">
<em class="property">class </em><code class="descclassname">stomp.transport.</code><code class="descname">Transport</code><span class="sig-paren">(</span><em>host_and_ports=None</em>, <em>prefer_localhost=True</em>, <em>try_loopback_connect=True</em>, <em>reconnect_sleep_initial=0.1</em>, <em>reconnect_sleep_increase=0.5</em>, <em>reconnect_sleep_jitter=0.1</em>, <em>reconnect_sleep_max=60.0</em>, <em>reconnect_attempts_max=3</em>, <em>use_ssl=False</em>, <em>ssl_key_file=None</em>, <em>ssl_cert_file=None</em>, <em>ssl_ca_certs=None</em>, <em>ssl_cert_validator=None</em>, <em>ssl_version=None</em>, <em>timeout=None</em>, <em>keepalive=None</em>, <em>vhost=None</em>, <em>auto_decode=True</em>, <em>encoding='utf-8'</em>, <em>recv_bytes=1024</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.Transport" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stomp.transport.BaseTransport" title="stomp.transport.BaseTransport"><code class="xref py py-class docutils literal notranslate"><span class="pre">stomp.transport.BaseTransport</span></code></a></p>
<p>Represents a STOMP client ‘transport’. Effectively this is the communications mechanism without the definition of
the protocol.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>host_and_ports</strong> (<em>list</em><em>(</em><em>(</em><em>str</em><em>,</em><em>int</em><em>)</em><em>)</em>) – a list of (host, port) tuples</li>
<li><strong>prefer_localhost</strong> (<em>bool</em>) – if True and the local host is mentioned in the (host,
port) tuples, try to connect to this first</li>
<li><strong>try_loopback_connect</strong> (<em>bool</em>) – if True and the local host is found in the host
tuples, try connecting to it using loopback interface
(127.0.0.1)</li>
<li><strong>reconnect_sleep_initial</strong> (<em>float</em>) – initial delay in seconds to wait before reattempting
to establish a connection if connection to any of the
hosts fails.</li>
<li><strong>reconnect_sleep_increase</strong> (<em>float</em>) – factor by which the sleep delay is increased after
each connection attempt. For example, 0.5 means
to wait 50% longer than before the previous attempt,
1.0 means wait twice as long, and 0.0 means keep
the delay constant.</li>
<li><strong>reconnect_sleep_max</strong> (<em>float</em>) – maximum delay between connection attempts, regardless
of the reconnect_sleep_increase.</li>
<li><strong>reconnect_sleep_jitter</strong> (<em>float</em>) – random additional time to wait (as a percentage of
the time determined using the previous parameters)
between connection attempts in order to avoid
stampeding. For example, a value of 0.1 means to wait
an extra 0%-10% (randomly determined) of the delay
calculated using the previous three parameters.</li>
<li><strong>reconnect_attempts_max</strong> (<em>int</em>) – maximum attempts to reconnect (Can also be used for infinite attempts : <cite>-1</cite>)</li>
<li><strong>use_ssl</strong> (<em>bool</em>) – deprecated, see <a class="reference internal" href="#stomp.transport.Transport.set_ssl" title="stomp.transport.Transport.set_ssl"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_ssl()</span></code></a></li>
<li><strong>ssl_cert_file</strong> – deprecated, see <a class="reference internal" href="#stomp.transport.Transport.set_ssl" title="stomp.transport.Transport.set_ssl"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_ssl()</span></code></a></li>
<li><strong>ssl_key_file</strong> – deprecated, see <a class="reference internal" href="#stomp.transport.Transport.set_ssl" title="stomp.transport.Transport.set_ssl"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_ssl()</span></code></a></li>
<li><strong>ssl_ca_certs</strong> – deprecated, see <a class="reference internal" href="#stomp.transport.Transport.set_ssl" title="stomp.transport.Transport.set_ssl"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_ssl()</span></code></a></li>
<li><strong>ssl_cert_validator</strong> – deprecated, see <a class="reference internal" href="#stomp.transport.Transport.set_ssl" title="stomp.transport.Transport.set_ssl"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_ssl()</span></code></a></li>
<li><strong>ssl_version</strong> – deprecated, see <a class="reference internal" href="#stomp.transport.Transport.set_ssl" title="stomp.transport.Transport.set_ssl"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_ssl()</span></code></a></li>
<li><strong>timeout</strong> – the timeout value to use when connecting the stomp socket</li>
<li><strong>keepalive</strong> – some operating systems support sending the occasional heart
beat packets to detect when a connection fails.  This
parameter can either be set set to a boolean to turn on the
default keepalive options for your OS, or as a tuple of
values, which also enables keepalive packets, but specifies
options specific to your OS implementation</li>
<li><strong>vhost</strong> (<em>str</em>) – specify a virtual hostname to provide in the ‘host’ header of the connection</li>
<li><strong>recv_bytes</strong> (<em>int</em>) – the number of bytes to use when calling recv</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="stomp.transport.Transport.attempt_connection">
<code class="descname">attempt_connection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.Transport.attempt_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Try connecting to the (host, port) tuples specified at construction time.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.Transport.cleanup">
<code class="descname">cleanup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.Transport.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the socket and clear the current host and port details.</p>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.Transport.disconnect_socket">
<code class="descname">disconnect_socket</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.Transport.disconnect_socket" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnect the underlying socket connection</p>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.Transport.get_ssl">
<code class="descname">get_ssl</code><span class="sig-paren">(</span><em>host_and_port=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.Transport.get_ssl" title="Permalink to this definition">¶</a></dt>
<dd><p>Get SSL params for the given host.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>host_and_port</strong> (<em>(</em><em>str</em><em>,</em><em>int</em><em>)</em>) – the host/port pair we want SSL params for, default current_host_and_port</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.Transport.is_connected">
<code class="descname">is_connected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.Transport.is_connected" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the socket managed by this connection is connected</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.Transport.receive">
<code class="descname">receive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.Transport.receive" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bytes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.Transport.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>encoded_frame</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.Transport.send" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>encoded_frame</strong> (<em>bytes</em>) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stomp.transport.Transport.set_ssl">
<code class="descname">set_ssl</code><span class="sig-paren">(</span><em>for_hosts=[]</em>, <em>key_file=None</em>, <em>cert_file=None</em>, <em>ca_certs=None</em>, <em>cert_validator=None</em>, <em>ssl_version=&lt;_SSLMethod.PROTOCOL_TLSv1: 3&gt;</em>, <em>password=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.transport.Transport.set_ssl" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up SSL configuration for the given hosts. This ensures socket is wrapped in a SSL connection, raising an
exception if the SSL module can’t be found.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>for_hosts</strong> – a list of tuples describing hosts this SSL configuration should be applied to</li>
<li><strong>cert_file</strong> – the path to a X509 certificate</li>
<li><strong>key_file</strong> – the path to a X509 key file</li>
<li><strong>ca_certs</strong> – the path to the a file containing CA certificates to validate the server against.
If this is not set, server side certificate validation is not done.</li>
<li><strong>cert_validator</strong> – function which performs extra validation on the client certificate, for example
checking the returned certificate has a commonName attribute equal to the
hostname (to avoid man in the middle attacks).
The signature is: (OK, err_msg) = validation_function(cert, hostname)
where OK is a boolean, and cert is a certificate structure
as returned by ssl.SSLSocket.getpeercert()</li>
<li><strong>ssl_version</strong> – SSL protocol to use for the connection. This should be one of the PROTOCOL_x
constants provided by the ssl module. The default is ssl.PROTOCOL_TLSv1</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-stomp.utils">
<span id="stomp-utils-module"></span><h2>stomp.utils module<a class="headerlink" href="#module-stomp.utils" title="Permalink to this headline">¶</a></h2>
<p>General utility functions.</p>
<dl class="class">
<dt id="stomp.utils.Frame">
<em class="property">class </em><code class="descclassname">stomp.utils.</code><code class="descname">Frame</code><span class="sig-paren">(</span><em>cmd=None</em>, <em>headers=None</em>, <em>body=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.utils.Frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A STOMP frame (or message).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cmd</strong> (<em>str</em>) – the protocol command</li>
<li><strong>headers</strong> (<em>dict</em>) – a map of headers for the frame</li>
<li><strong>body</strong> – the content of the frame.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="stomp.utils.calculate_heartbeats">
<code class="descclassname">stomp.utils.</code><code class="descname">calculate_heartbeats</code><span class="sig-paren">(</span><em>shb</em>, <em>chb</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.utils.calculate_heartbeats" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a heartbeat string from the server, and a heartbeat tuple from the client,
calculate what the actual heartbeat settings should be.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>shb</strong> (<em>(</em><em>str</em><em>,</em><em>str</em><em>)</em>) – server heartbeat numbers</li>
<li><strong>chb</strong> (<em>(</em><em>int</em><em>,</em><em>int</em><em>)</em>) – client heartbeat numbers</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(int,int)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="stomp.utils.clean_headers">
<code class="descclassname">stomp.utils.</code><code class="descname">clean_headers</code><span class="sig-paren">(</span><em>headers</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.utils.clean_headers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="stomp.utils.clean_lines">
<code class="descclassname">stomp.utils.</code><code class="descname">clean_lines</code><span class="sig-paren">(</span><em>lines</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.utils.clean_lines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="stomp.utils.convert_frame">
<code class="descclassname">stomp.utils.</code><code class="descname">convert_frame</code><span class="sig-paren">(</span><em>frame</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.utils.convert_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a frame to a list of lines separated by newlines.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>frame</strong> (<a class="reference internal" href="#stomp.utils.Frame" title="stomp.utils.Frame"><em>Frame</em></a>) – the Frame object to convert</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list(str)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="stomp.utils.decode">
<code class="descclassname">stomp.utils.</code><code class="descname">decode</code><span class="sig-paren">(</span><em>byte_data</em>, <em>encoding='utf-8'</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.utils.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode the byte data to a string if not None.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>byte_data</strong> (<em>bytes</em>) – the data to decode</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="stomp.utils.default_create_thread">
<code class="descclassname">stomp.utils.</code><code class="descname">default_create_thread</code><span class="sig-paren">(</span><em>callback</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.utils.default_create_thread" title="Permalink to this definition">¶</a></dt>
<dd><p>Default thread creation - used to create threads when the client doesn’t want to provide their
own thread creation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>callback</strong> (<em>function</em>) – the callback function provided to threading.Thread</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="stomp.utils.encode">
<code class="descclassname">stomp.utils.</code><code class="descname">encode</code><span class="sig-paren">(</span><em>char_data</em>, <em>encoding='utf-8'</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.utils.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode the parameter as a byte string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>char_data</strong> – the data to encode</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bytes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="stomp.utils.get_errno">
<code class="descclassname">stomp.utils.</code><code class="descname">get_errno</code><span class="sig-paren">(</span><em>e</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.utils.get_errno" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the errno of an exception, or the first argument if errno is not available.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>e</strong> (<em>Exception</em>) – the exception object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="stomp.utils.get_uuid">
<code class="descclassname">stomp.utils.</code><code class="descname">get_uuid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stomp.utils.get_uuid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="stomp.utils.is_localhost">
<code class="descclassname">stomp.utils.</code><code class="descname">is_localhost</code><span class="sig-paren">(</span><em>host_and_port</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.utils.is_localhost" title="Permalink to this definition">¶</a></dt>
<dd><p>Return 1 if the specified host+port is a member of the ‘localhost’ list of hosts, 2 if not (predominately used
as a sort key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>host_and_port</strong> (<em>(</em><em>str</em><em>,</em><em>int</em><em>)</em>) – tuple containing host and port</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="stomp.utils.join">
<code class="descclassname">stomp.utils.</code><code class="descname">join</code><span class="sig-paren">(</span><em>chars=()</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.utils.join" title="Permalink to this definition">¶</a></dt>
<dd><p>Join a sequence of characters into a string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>chars</strong> (<em>bytes</em>) – list of chars</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="stomp.utils.length">
<code class="descclassname">stomp.utils.</code><code class="descname">length</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.utils.length" title="Permalink to this definition">¶</a></dt>
<dd><p>Null (none) safe length function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>s</strong> (<em>str</em>) – the string to return length of (None allowed)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="stomp.utils.merge_headers">
<code class="descclassname">stomp.utils.</code><code class="descname">merge_headers</code><span class="sig-paren">(</span><em>header_map_list</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.utils.merge_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function for combining multiple header maps into one.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>header_map_list</strong> (<em>list</em><em>(</em><em>dict</em><em>)</em>) – list of maps</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="stomp.utils.pack">
<code class="descclassname">stomp.utils.</code><code class="descname">pack</code><span class="sig-paren">(</span><em>pieces=()</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.utils.pack" title="Permalink to this definition">¶</a></dt>
<dd><p>Join a sequence of strings together.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>pieces</strong> (<em>list</em>) – list of strings</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bytes</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="stomp.utils.parse_frame">
<code class="descclassname">stomp.utils.</code><code class="descname">parse_frame</code><span class="sig-paren">(</span><em>frame</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.utils.parse_frame" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a STOMP frame into a Frame object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>frame</strong> (<em>bytes</em>) – the frame received from the server (as a byte string)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#stomp.utils.Frame" title="stomp.utils.Frame">Frame</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="stomp.utils.parse_headers">
<code class="descclassname">stomp.utils.</code><code class="descname">parse_headers</code><span class="sig-paren">(</span><em>lines</em>, <em>offset=0</em><span class="sig-paren">)</span><a class="headerlink" href="#stomp.utils.parse_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the headers in a STOMP response</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lines</strong> (<em>list</em><em>(</em><em>str</em><em>)</em>) – the lines received in the message response</li>
<li><strong>offset</strong> (<em>int</em>) – the starting line number</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict(str,str)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-stomp">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-stomp" title="Permalink to this headline">¶</a></h2>
<p>stomp.py provides connectivity to a message broker supporting the STOMP protocol.
Protocol versions 1.0, 1.1 and 1.2 are supported.</p>
<p>See the GITHUB project page for more information.</p>
<p>Author: Jason R Briggs
License: <a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>
Project Page: <a class="reference external" href="https://github.com/jasonrbriggs/stomp.py">https://github.com/jasonrbriggs/stomp.py</a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Stomp</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction to Stomp.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Using the API</a></li>
<li class="toctree-l1"><a class="reference internal" href="commandline.html">Using the Command-line client application</a></li>
<li class="toctree-l1"><a class="reference internal" href="otherprojects.html">Other Projects/References</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, Jason R Briggs.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="_sources/stomp.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>